{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\PROYECTO-INTEGRADOR\\\\frontend\\\\src\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { IonPage, IonContent, IonItem, IonInput, IonButton, IonLabel, IonHeader, IonToolbar, IonTitle, IonToast, IonIcon, IonImg } from '@ionic/react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { mailOutline, lockClosedOutline } from 'ionicons/icons';\nimport './LoginPage.css'; // Make sure this path is correct\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPage = () => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [toastMessage, setToastMessage] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const navigate = useNavigate();\n  const handleLogin = async event => {\n    event.preventDefault();\n    if (!email.trim() || !password.trim()) {\n      setToastMessage('Por favor, introduce tu correo electrónico y contraseña');\n      return;\n    }\n    setIsSubmitting(true);\n    try {\n      const response = await axios.post('http://localhost:3000/users/login', {\n        email,\n        password\n      });\n      if (response.data.token) {\n        localStorage.setItem('token', response.data.token);\n        localStorage.setItem('userId', response.data.userId);\n        navigate('/photo-feed');\n      } else {\n        setToastMessage('Credenciales incorrectas');\n      }\n    } catch (error) {\n      setToastMessage('Error al iniciar sesión, verifica tu conexión');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(IonPage, {\n    children: [/*#__PURE__*/_jsxDEV(IonHeader, {\n      children: /*#__PURE__*/_jsxDEV(IonToolbar, {\n        children: /*#__PURE__*/_jsxDEV(IonTitle, {\n          children: \"Iniciar Sesi\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonContent, {\n      className: \"ion-padding\",\n      children: [/*#__PURE__*/_jsxDEV(IonImg, {\n        className: \"login-logo\",\n        src: \"/assets/logo.png\",\n        alt: \"Logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleLogin,\n        children: [/*#__PURE__*/_jsxDEV(IonItem, {\n          children: [/*#__PURE__*/_jsxDEV(IonIcon, {\n            icon: mailOutline,\n            slot: \"start\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IonLabel, {\n            position: \"stacked\",\n            children: \"Correo Electr\\xF3nico\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IonInput, {\n            type: \"email\",\n            value: email,\n            onIonChange: e => setEmail(e.detail.value),\n            clearInput: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IonItem, {\n          children: [/*#__PURE__*/_jsxDEV(IonIcon, {\n            icon: lockClosedOutline,\n            slot: \"start\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IonLabel, {\n            position: \"stacked\",\n            children: \"Contrase\\xF1a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IonInput, {\n            type: \"password\",\n            value: password,\n            onIonChange: e => setPassword(e.detail.value),\n            clearInput: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IonButton, {\n          type: \"submit\",\n          expand: \"block\",\n          disabled: isSubmitting,\n          children: isSubmitting ? 'Cargando...' : 'Iniciar Sesión'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IonButton, {\n          routerLink: \"/register\",\n          expand: \"block\",\n          fill: \"clear\",\n          children: \"\\xBFNo tienes cuenta? Reg\\xEDstrate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IonToast, {\n        isOpen: !!toastMessage,\n        onDidDismiss: () => setToastMessage(''),\n        message: toastMessage,\n        duration: 3000\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginPage, \"dE51gPLEmEQlt/zMSMiIB6B7KVE=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginPage;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useState","IonPage","IonContent","IonItem","IonInput","IonButton","IonLabel","IonHeader","IonToolbar","IonTitle","IonToast","IonIcon","IonImg","useNavigate","axios","mailOutline","lockClosedOutline","jsxDEV","_jsxDEV","LoginPage","_s","email","setEmail","password","setPassword","toastMessage","setToastMessage","isSubmitting","setIsSubmitting","navigate","handleLogin","event","preventDefault","trim","response","post","data","token","localStorage","setItem","userId","error","children","fileName","_jsxFileName","lineNumber","columnNumber","className","src","alt","onSubmit","icon","slot","position","type","value","onIonChange","e","detail","clearInput","expand","disabled","routerLink","fill","isOpen","onDidDismiss","message","duration","_c","Login","$RefreshReg$"],"sources":["C:/Users/USER/Documents/PROYECTO-INTEGRADOR/frontend/src/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  IonPage, IonContent, IonItem, IonInput, IonButton, IonLabel,\r\n  IonHeader, IonToolbar, IonTitle, IonToast, IonIcon, IonImg\r\n} from '@ionic/react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { mailOutline, lockClosedOutline } from 'ionicons/icons';\r\nimport './LoginPage.css';  // Make sure this path is correct\r\n\r\nconst LoginPage = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [toastMessage, setToastMessage] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault();\r\n    if (!email.trim() || !password.trim()) {\r\n      setToastMessage('Por favor, introduce tu correo electrónico y contraseña');\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      const response = await axios.post('http://localhost:3000/users/login', { email, password });\r\n      if (response.data.token) {\r\n        localStorage.setItem('token', response.data.token);\r\n        localStorage.setItem('userId', response.data.userId);\r\n        navigate('/photo-feed');\r\n      } else {\r\n        setToastMessage('Credenciales incorrectas');\r\n      }\r\n    } catch (error) {\r\n      setToastMessage('Error al iniciar sesión, verifica tu conexión');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <IonPage>\r\n      <IonHeader>\r\n        <IonToolbar>\r\n          <IonTitle>Iniciar Sesión</IonTitle>\r\n        </IonToolbar>\r\n      </IonHeader>\r\n      <IonContent className=\"ion-padding\">\r\n        <IonImg className=\"login-logo\" src=\"/assets/logo.png\" alt=\"Logo\" />\r\n        <form onSubmit={handleLogin}>\r\n          <IonItem>\r\n            <IonIcon icon={mailOutline} slot=\"start\" />\r\n            <IonLabel position=\"stacked\">Correo Electrónico</IonLabel>\r\n            <IonInput type=\"email\" value={email} onIonChange={e => setEmail(e.detail.value)} clearInput />\r\n          </IonItem>\r\n          <IonItem>\r\n            <IonIcon icon={lockClosedOutline} slot=\"start\" />\r\n            <IonLabel position=\"stacked\">Contraseña</IonLabel>\r\n            <IonInput type=\"password\" value={password} onIonChange={e => setPassword(e.detail.value)} clearInput />\r\n          </IonItem>\r\n          <IonButton type=\"submit\" expand=\"block\" disabled={isSubmitting}>\r\n            {isSubmitting ? 'Cargando...' : 'Iniciar Sesión'}\r\n          </IonButton>\r\n          <IonButton routerLink=\"/register\" expand=\"block\" fill=\"clear\">\r\n            ¿No tienes cuenta? Regístrate\r\n          </IonButton>\r\n        </form>\r\n        <IonToast\r\n          isOpen={!!toastMessage}\r\n          onDidDismiss={() => setToastMessage('')}\r\n          message={toastMessage}\r\n          duration={3000}\r\n        />\r\n      </IonContent>\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}